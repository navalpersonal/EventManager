{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{Container,TextField,Button,Typography,Box}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const handleLogin=async()=>{try{const res=await axios.post('http://localhost:5000/api/auth/login',{username,password});localStorage.setItem('token',res.data.token);navigate('/events');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Login failed');}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"xs\",children:/*#__PURE__*/_jsxs(Box,{sx:{mt:8,p:3,boxShadow:3,borderRadius:2,bgcolor:'background.paper'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",align:\"center\",gutterBottom:true,children:\"Login\"}),/*#__PURE__*/_jsx(TextField,{label:\"Username\",fullWidth:true,margin:\"normal\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",type:\"password\",fullWidth:true,margin:\"normal\",value:password,onChange:e=>setPassword(e.target.value)}),error&&/*#__PURE__*/_jsx(Typography,{color:\"error\",children:error}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",fullWidth:true,sx:{mt:2},onClick:handleLogin,children:\"Login\"}),/*#__PURE__*/_jsx(Button,{color:\"secondary\",fullWidth:true,sx:{mt:1},onClick:()=>navigate('/register'),children:\"Register\"})]})});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","axios","Container","TextField","Button","Typography","Box","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","error","setError","navigate","handleLogin","res","post","localStorage","setItem","data","token","err","_err$response","_err$response$data","response","message","maxWidth","children","sx","mt","p","boxShadow","borderRadius","bgcolor","variant","align","gutterBottom","label","fullWidth","margin","value","onChange","e","target","type","color","onClick"],"sources":["C:/Users/navalt/Documents/EventManager/EventManager/client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Container, TextField, Button, Typography, Box } from '@mui/material';\r\n\r\nfunction Login() {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const res = await axios.post('http://localhost:5000/api/auth/login', { username, password });\r\n      localStorage.setItem('token', res.data.token);\r\n      navigate('/events');\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Login failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"xs\">\r\n      <Box sx={{ mt: 8, p: 3, boxShadow: 3, borderRadius: 2, bgcolor: 'background.paper' }}>\r\n        <Typography variant=\"h5\" align=\"center\" gutterBottom>Login</Typography>\r\n        <TextField label=\"Username\" fullWidth margin=\"normal\" value={username} onChange={e => setUsername(e.target.value)} />\r\n        <TextField label=\"Password\" type=\"password\" fullWidth margin=\"normal\" value={password} onChange={e => setPassword(e.target.value)} />\r\n        {error && <Typography color=\"error\">{error}</Typography>}\r\n        <Button variant=\"contained\" color=\"primary\" fullWidth sx={{ mt: 2 }} onClick={handleLogin}>Login</Button>\r\n        <Button color=\"secondary\" fullWidth sx={{ mt: 1 }} onClick={() => navigate('/register')}>Register</Button>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}